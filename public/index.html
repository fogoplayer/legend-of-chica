<!DOCTYPE html>
<html>
    <head>
        <title>The Legend of Chica: Golden Guardian</title>
        <script src="phaser.min.js"></script>
        <script type="module">
            import storage from './systems/storage.js';
            storage.initialize();
                                            console.log( typeof `./levels/${ storage.userData.currentLevel.toLowerCase() }/${ storage.userData.currentLevel.toLowerCase() }.js`);
            const level = import(`./levels/${ storage.userData.currentLevel.toLowerCase() }/${ storage.userData.currentLevel.toLowerCase() }.js`)
            
            level.then(startGame);
            
            function startGame(level){
                level = new level.default();
                
                let config = {
                    type: Phaser.AUTO,
                    width: 512 * 1.5,
                    height: 512 * 1.5,
                    physics: {
                        default: 'arcade',
                        arcade: {
                            gravity: { y: 0, x: 0, }
                        }
                    },
                    scene: [level]
                };
                                                                                console.log(2);
                                                            console.log(level);
                let game = new Phaser.Game(config);
                                                                                console.log(3);
            }
        </script>
        <style>
            body {
                background-color: #222;
                display: block;
                margin: auto;
                color:#fff;
            }
            
            canvas{
                display: block;
                margin: auto;
                color:#fff;
            }
        </style>
    </head>
    <body>
        <center>
            <h1>The Legend of Chica:</h1>
            <h2>Golden Guardian</h2>
        </center>
    </body>
</html>